# AIKEN v2 コスト分析

## 月額コスト試算

### 顧客0-10社（立ち上げ期）: ¥0/月

| サービス | 使用量 | コスト |
|---------|--------|--------|
| Firebase Hosting | ~1GB帯域 | ¥0（10GB無料） |
| Firebase Auth | ~100 MAU | ¥0（50,000 MAU無料） |
| Firestore | ~10K読取/日 | ¥0（50K/日無料） |
| Cloud Functions | ~1,000回/月 | ¥0（200万回無料） |
| Cloud Run (US) | ~5,000req/月 | ¥0（200万req無料） |
| Google Drive API | ~1,000回/月 | ¥0（API無料） |
| **合計** | | **¥0/月** |

### 顧客50社: ~¥1,000-1,250/月

| サービス | 使用量 | コスト |
|---------|--------|--------|
| Firebase Hosting | ~5GB帯域 | ¥0 |
| Firebase Auth | ~2,500 MAU | ¥0 |
| Firestore | ~80K読取/日 | ~¥500-750 |
| Cloud Functions | ~50,000回/月 | ¥0 |
| Cloud Run (US) | ~100,000req/月 | ¥0 |
| **合計** | | **~¥1,000-1,250/月** |

### 顧客500社: ~¥16,500-27,000/月

| サービス | 使用量 | コスト |
|---------|--------|--------|
| Firebase Hosting | ~50GB帯域 | ~¥1,500 |
| Firebase Auth | ~25,000 MAU | ¥0 |
| Firestore | ~500K読取/日 | ~¥12,000-22,500 |
| Cloud Functions | ~500,000回/月 | ¥0 |
| Cloud Run (US) | ~1M req/月 | ~¥3,000 |
| **合計** | | **~¥16,500-27,000/月** |

## v1 との比較

| 項目 | v1 (AIKEN-School) | v2 |
|------|-------------------|-----|
| Cloud SQL | ~¥1,200/月（固定） | ¥0（Firestore無料枠） |
| Cloud Run (Tokyo) | 無料枠対象外 | ¥0（USリージョン） |
| 初回表示 | 5-10秒 | <1秒 |
| バンドルサイズ | 1.1MB | ~245KB (gzip) |

## コスト制御メカニズム

### プラン制限

| プラン | 教室 | 受講者 | 動画 | AI生成/月 |
|--------|------|--------|------|----------|
| トライアル | 1 | 5 | 10 | 3回 |
| Basic | 10 | 100 | 100 | 30回 |
| Standard | 30 | 500 | 500 | 100回 |
| Premium | 100 | 2,000 | 2,000 | 無制限 |

### Firestore読み取り最適化

- ポーリング間隔: トライアル=30分、Basic=15分、Standard=5分
- リアルタイムリスナーはアクティブタブのみ
- クライアント側キャッシュ活用
